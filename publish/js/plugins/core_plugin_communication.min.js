!(function _core_plugin_ajax_wrap(){Object.lookup("ir.components.Core.plugin",0).execute(function(e,k,b,j,c,d,i,a){j.messagePool={};c.dispatch=function g(m){j.verify(this);if(Object.type(m)==="Object"){if(typeof m.name==="string"){if(m.name in j.messagePool){j.messagePool[m.name].forEach(function l(o){try{o.callback.apply(o.scope,[m])}catch(n){c.error({type:"error",origin:"Core COM",name:"_dispatch -> _forEach",msg:'unable to dispatch event "'+m.name+'". Original error: "'+n.message+'"'})}})}}else{c.error({type:"syntax",origin:"Core COM",name:"_dispatch",msg:"expected an event type as string"})}}else{c.error({type:"syntax",origin:"Core COM",name:"_dispatch",msg:"expected an object"})}return c};c.listen=function h(l,o,m){j.verify(this);if(Object.type(l)!=="Array"){l=[l]}l.forEach(function n(p){if(typeof p==="string"){if(typeof j.messagePool[p]==="undefined"){j.messagePool[p]=[]}if(typeof o==="function"){j.messagePool[p].push({callback:o,scope:m||null})}}else{c.error({type:"syntax",origin:"Core COM",name:"_listen",msg:"expected a string value (or an Array of strings), received "+Object.type(p)+" instead"})}});return c};c.forget=function f(l,m){j.verify(this);if(j.messagePool[l]&&Object.type(j.messagePool[l])==="Array"){if(Object.type(l)!=="Array"){l=[l]}l.forEach(function(n){if(typeof n==="string"){if(m===a){j.messagePool[n]=[]}else{j.messagePool[n]=j.messagePool[n].filter(function(o){return o.callback!==m})}}else{c.error({type:"syntax",origin:"Core COM",name:"_forget",msg:"expected a string value (or an Array of strings)"})}})}return c}})}());